<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core" xmlns:p="http://primefaces.org/ui">

	<h:panelGroup rendered="#{not empty fileItemCctDetailController.specificDecisionsHistory.lastAnalyseResult}">
		<h:outputLabel value="#{bundle['SampleCollectionHeader']} " styleClass="analyseResult" rendered="#{fileItemCctDetailController.checkMinaderMinistry}"/>
			<br />
			<p:panelGrid columns="2" columnClasses="labelColumnLeft, labelColumnRight" rendered="#{fileItemCctDetailController.checkMinaderMinistry}">
				<h:outputLabel value="#{bundle['ReconditionningMode']} : " />
				<h:outputLabel value="#{fileItemCctDetailController.specificDecisionsHistory.lastAnalyseResult.analyseOrder.sample.reconditionningMode}" />

				<h:outputLabel value="#{bundle['TransportMeans']} : " />
				<h:outputLabel value="#{fileItemCctDetailController.specificDecisionsHistory.lastAnalyseResult.analyseOrder.sample.transportMeans}" />

				<h:outputLabel value="#{bundle['SamplingDate']} : " />
				<h:outputLabel value="#{fileItemCctDetailController.specificDecisionsHistory.lastAnalyseResult.analyseOrder.sample.samplingDate}" />

				<h:outputLabel value="#{bundle['StoragePlace']} : " />
				<h:outputLabel value="#{fileItemCctDetailController.specificDecisionsHistory.lastAnalyseResult.analyseOrder.sample.storagePlace}" />

				<h:outputLabel value="#{bundle['ReconditionningUnity']} : " />
				<h:outputLabel value="#{fileItemCctDetailController.specificDecisionsHistory.lastAnalyseResult.analyseOrder.sample.reconditionningUnity}" />
			</p:panelGrid>
			<h:outputLabel value="#{bundle['AnalyseResultHeader']} " styleClass="analyseResult" />

			<br />
			<p:panelGrid columns="2" columnClasses="labelColumnLeft, labelColumnRight">

				<h:outputLabel value="#{bundle['AnalyseResultDateLabel']} : " />
				<h:outputLabel value="#{fileItemCctDetailController.specificDecisionsHistory.lastAnalyseResult.analyseOrder.date}" />

				<h:outputLabel value="#{bundle['AnalyseResultSampleLabel']} : " />
				<h:outputLabel
					value="#{facesContext.viewRoot.locale eq 'fr' ? fileItemCctDetailController.specificDecisionsHistory.lastAnalyseResult.analyseOrder.sample.fileItem.nsh.goodsItemDesc : fileItemCctDetailController.specificDecisionsHistory.lastAnalyseResult.analyseOrder.sample.fileItem.nsh.goodsItemDescEn}" />

				<h:outputLabel value="#{bundle['AnalyseResultQtePrelvLabel']} : " />
				<h:outputLabel value="#{fileItemCctDetailController.specificDecisionsHistory.lastAnalyseResult.analyseOrder.sample.takenQuantity}" />

				<h:outputLabel value="#{bundle['AnalyseResultQteAnalLabel']} : " />
				<h:outputLabel value="#{fileItemCctDetailController.specificDecisionsHistory.lastAnalyseResult.analyseOrder.quantity}" />



				<h:outputLabel value="#{bundle['AnalyseResultPriceLabel']} : " />
				<h:outputLabel value="#{fileItemCctDetailController.specificDecisionsHistory.lastAnalyseResult.amount}" />

				<h:outputLabel value="#{bundle['AnalyseResultObservationLabel']} : " />
				<h:outputLabel value="#{fileItemCctDetailController.specificDecisionsHistory.lastAnalyseResult.observation}" />

			</p:panelGrid>

			<h:outputLabel value="#{bundle['AnalyseResultDetailsAnalyseType']} : " styleClass="analyseResult" />

			<br />

			<p:tabView var="item" value="#{fileItemCctDetailController.specificDecisionsHistory.lastAnalyseResult.analyseOrder.analysePartsList}" scrollable="true">

				<p:tab title="#{facesContext.viewRoot.locale eq 'en' ?item.analyseType.labelEn:item.analyseType.labelFr}">

					<h:panelGrid columns="2" columnClasses="labelColumnLeft, labelColumnRight">

						<h:outputLabel value="#{bundle['AnalyseResultDetailsCompliant']} : " />
						<p:selectBooleanCheckbox value="#{item.compliant}" disabled="true" />

						<h:outputLabel value="#{bundle['AnalyseResultDetailsObservation']} : " />
						<h:outputLabel value="#{item.observation}" />

						<h:outputLabel value="#{bundle['AnalyseResultDetailsAttachment']} : " />
						<p:commandLink value="#{item.attachment}" ajax="false" style="text-decoration: underline">
							<p:fileDownload value="#{fileItemCctDetailController.reportMap.get(item.id)}" />
						</p:commandLink>

					</h:panelGrid>

				</p:tab>

			</p:tabView>
			<div class="btn-bloc">
				<p:commandButton ajax="false" actionListener="#{fileItemCctDetailController.generatePvpeReport}"
					value="#{bundle['PvpeReportdownloadBtn']}" styleClass="ui-priority-primary" />
			</div>
			
	</h:panelGroup>

</ui:composition>
