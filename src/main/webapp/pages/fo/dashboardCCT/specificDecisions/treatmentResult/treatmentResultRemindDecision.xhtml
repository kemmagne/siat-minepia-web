<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core" xmlns:p="http://primefaces.org/ui">

	<h:panelGroup rendered="#{not empty fileItemCctDetailController.specificDecisionsHistory.lastTreatmentResult}">

		<p:panelGrid columns="2" columnClasses="labelColumnLeft, labelColumnRight">

			<h:outputLabel value="#{bundle['TreatmentProductNameLabel']} : " />
			<h:outputLabel value="#{fileItemCctDetailController.specificDecisionsHistory.lastTreatmentResult.treatmentProductName}" id="treatmentProductName" />

			<h:outputLabel value="#{bundle['TreatmentResultDateLabel']} : " />
			<h:outputLabel value="#{fileItemCctDetailController.specificDecisionsHistory.lastTreatmentResult.treatmentDate}" />

			<h:outputLabel value="#{bundle['TreatmentResultPriceLabel']} : " />
			<h:outputLabel value="#{fileItemCctDetailController.specificDecisionsHistory.lastTreatmentResult.amount}" />


			<h:outputLabel value="#{bundle['TreatmentDosageLabel']} : " />
			<h:outputLabel value="#{fileItemCctDetailController.specificDecisionsHistory.lastTreatmentResult.dosage}" />

			<h:outputLabel value="#{bundle['TreatmentResultObservationLabel']} : " />
			<h:outputLabel value="#{fileItemCctDetailController.specificDecisionsHistory.lastTreatmentResult.observation}" />

		</p:panelGrid>

		<h:outputLabel value="#{bundle['TreatmentResultDetails_TreatmentType']} : " styleClass="analyseResult" />

		<br />

		<p:tabView var="item" value="#{fileItemCctDetailController.specificDecisionsHistory.lastTreatmentResult.treatmentOrder.treatmentPartsList}" scrollable="true">


			<p:tab title="#{facesContext.viewRoot.locale eq 'en' ?item.treatmentType.labelEn:item.treatmentType.labelFr}">

				<h:panelGrid columns="2" columnClasses="labelColumnLeft, labelColumnRight">

					<h:outputLabel value="#{bundle['TreatmentResultDetailsObservation']} : " />
					<h:outputLabel value="#{item.observation}" />

					<h:outputLabel value="#{bundle['TreatmentResultDetailsAttachment']} : " />
					<p:commandLink value="#{item.attachment}" ajax="false" style="text-decoration: underline">
						<p:fileDownload value="#{fileItemCctDetailController.reportMap.get(item.id)}" />
					</p:commandLink>

				</h:panelGrid>

			</p:tab>

		</p:tabView>

	</h:panelGroup>

</ui:composition>
