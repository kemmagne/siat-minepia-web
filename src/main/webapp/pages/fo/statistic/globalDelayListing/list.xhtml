<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:p="http://primefaces.org/ui">

	<br />

	<p:panel header="#{bundle['fileItemDesicionSearch_result']}">


		<h:form id="filtredFileItemListForm">

			<h:panelGrid columns="2">
				<h:commandLink action="#{exporter.exportPDF(table, 'GLOBAL_DELAI_LISTING')}">
					<h:outputText styleClass="sprite sprite-pdf" />
				</h:commandLink>

				<h:commandLink>
					<h:graphicImage styleClass="sprite sprite-pdf" library="img" name="excel.png"
						style="width: 34px;height: 34px;display: block;	top: 15px;	right: 52px;position: absolute;" />
					<p:dataExporter type="xls" target="datalist" fileName="#{bundle['fileItemDesicionSearch_result']}" />
				</h:commandLink>
			</h:panelGrid>
			<br />

                        <p:dataTable id="datalist" binding="#{table}" widgetVar="datalistTable" value="#{statisticController.globalDelayListingDataList}"
				filteredValue="" var="delay" rows="5" paginator="true" rowsPerPageTemplate="5,10,20"
				emptyMessage="#{bundle['AucuneResultat']}"
				paginatorTemplate="{RowsPerPageDropdown} {FirstPageLink} {PreviousPageLink} {CurrentPageReport} {NextPageLink} {LastPageLink}"
				currentPageReportTemplate="({startRecord} - {endRecord} sur {totalRecords})">

				<p:column>
					<f:facet name="header">
						<h:outputText value="#{bundle['processName']}" title="#{bundle['processName']}" />
					</f:facet>
                                    <h:outputText value="#{delay.processName}" />
				</p:column>
				<p:column>
					<f:facet name="header">
						<h:outputText value="#{bundle['expecNumber']}" title="#{bundle['expecNumber']}" />
					</f:facet>
                                    <h:outputText value="#{delay.expecNumber}" />
				</p:column>
				<p:column>
					<f:facet name="header">
						<h:outputText value="#{bundle['subfileNumber']}" title="#{bundle['subfileNumber']}" />
					</f:facet>
                                    <h:outputText value="#{delay.subfileNumber}" />
				</p:column>
				<p:column>
					<f:facet name="header">
						<h:outputText value="#{bundle['exporterNiu']}" title="#{bundle['exporterNiu']}" />
					</f:facet>
                                    <h:outputText value="#{delay.exporterNiu}" />
				</p:column>
				<p:column>
					<f:facet name="header">
						<h:outputText value="#{bundle['exporterName']}" title="#{bundle['exporterName']}" />
					</f:facet>
                                    <h:outputText value="#{delay.exporterName}" />
				</p:column>
				<p:column>
					<f:facet name="header">
						<h:outputText value="#{bundle['productType']}" title="#{bundle['productType']}" />
					</f:facet>
                                    <h:outputText value="#{delay.productType}" />
				</p:column>
				<p:column>
					<f:facet name="header">
						<h:outputText value="#{bundle['destinationCountry']}" title="#{bundle['destinationCountry']}" />
					</f:facet>
                                    <h:outputText value="#{delay.destinationCountry}" />
				</p:column>
				
				<p:column>
					<f:facet name="header">
						<h:outputText value="#{bundle['Step']}" title="#{bundle['Step']}" />
					</f:facet>
                                    <h:outputText value="#{delay.step}" />
				</p:column>
				<p:column>
					<f:facet name="header">
						<h:outputText value="#{bundle['entryDate']}" title="#{bundle['entryDate']}" />
					</f:facet>
                                    <h:outputText value="#{delay.entryDate}">
                                        <f:convertDateTime type="date" pattern="dd/MM/yyyy HH:mm:ss" locale="fr" />
                                    </h:outputText>
				</p:column>
				<p:column>
					<f:facet name="header">
						<h:outputText value="#{bundle['releaseDate']}" title="#{bundle['releaseDate']}" />
					</f:facet>
                                    <h:outputText value="#{delay.releaseDate}">
                                        <f:convertDateTime type="date" pattern="dd/MM/yyyy HH:mm:ss" locale="fr" />
                                    </h:outputText>
				</p:column>
				<p:column>
					<f:facet name="header">
						<h:outputText value="#{bundle['globalDelay']}" title="#{bundle['globalDelay']}" />
					</f:facet>
                                    <h:outputText value="#{delay.globalDelay}" />
				</p:column>
                                <p:column>
					<f:facet name="header">
						<h:outputText value="#{bundle['officeCode']}" title="#{bundle['officeCode']}" />
					</f:facet>
                                    <h:outputText value="#{delay.officeCode}" />
				</p:column>
				
				<p:column>
					<f:facet name="header">
						<h:outputText value="#{bundle['officeLabel']}" title="#{bundle['officeLabel']}" />
					</f:facet>
                                    <h:outputText value="#{delay.officeLabel}" />
				</p:column>

				

			</p:dataTable>

		</h:form>

	</p:panel>

</ui:composition>
